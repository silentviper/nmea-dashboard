import{u as y}from"./useSignalk-Bw-wFA2A.js";import{d as h,r as k,q as S,s as $,f as s,c as n,b as c,v as C,x as I,t as p,j as g,h as d,w as m,F as B,y as H,g as M}from"./vendor-DVsoaUEd.js";import{_,E as f}from"./index-BkN9LaqK.js";const E={class:"toggle-switch"},N={key:0,class:"error-message"},P=h({__name:"ToggleSwitch",props:{path:{},name:{}},setup(u){const e=u,a=k(!1),i=k(null),o=y({port:3e3}),t=async()=>{try{await o.put(e.path,!a.value,'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkphbWVzTWNHaW5uZXNzIiwiaWF0IjoxNzI0MTE5NjgzfQ.2li_BlgX_4EaIi9XFGXG8JUwKe3-ThlJBMUdVViS4G8"')}catch(r){i.value=r,console.error("Error making PUT request:",r)}},v=r=>{var b,w,x,G;const l=(G=(x=(w=(b=r.updates)==null?void 0:b[0])==null?void 0:w.values)==null?void 0:x[0])==null?void 0:G.value;l!==void 0&&(a.value=l)};return S(()=>{o.connect(),o.subscribe({path:e.path,period:500}),o.addMessageHandler(v)}),$(()=>{o.removeMessageHandler(v),o.disconnect()}),(r,l)=>(s(),n("div",E,[c("span",{class:I(["metal","radial",a.value?"on":""]),onClick:t},[c("span",{style:C({color:a.value?"green":"red"})}," ",4)],2),c("div",null,p(r.name),1),i.value?(s(),n("div",N,p(i.value.message),1)):g("",!0)]))}}),F=_(P,[["__scopeId","data-v-95687090"]]),z={class:"gauges"},L=h({__name:"GaugesComponent",setup(u){return(e,a)=>(s(),n("div",z," Gauges "))}}),O=_(L,[["__scopeId","data-v-02f314ec"]]),T={},V={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1.5},viewBox:"0 0 60 60"};function J(u,e){return s(),n("svg",V,e[0]||(e[0]=[c("path",{d:"M.147-.714-.003 0h.148l.107-.568h.002L.323 0h.12l.302-.568h.002L.617 0h.147l.151-.714H.696l-.275.517H.419L.364-.714H.147Z",style:{fill:"#fff",fillRule:"nonzero"},transform:"matrix(7.8821 0 0 7.8821 10.134 31.243)"},null,-1)]))}const K=_(T,[["render",J]]),U={class:"gps-component"},R={key:0,class:"gps-data"},W={key:0,class:"coordinates"},X={key:1,class:"speed"},j={key:2,class:"course"},D={key:1,class:"no-fix"},Z=h({__name:"GPSComponent",setup(u){const e=k({}),a=y(),i=o=>{var t,v,r;(r=(v=(t=o.updates)==null?void 0:t[0])==null?void 0:v.values)==null||r.forEach(l=>{switch(l.path){case"navigation.position.latitude":e.value.latitude=l.value;break;case"navigation.position.longitude":e.value.longitude=l.value;break;case"navigation.speedOverGround":e.value.speed=l.value*1.943844;break;case"navigation.courseOverGround":e.value.courseOverGround=l.value*57.2958;break;case"navigation.gnss.fix":e.value.fix=l.value==="GPS";break}})};return S(()=>{a.connect(),["navigation.position.latitude","navigation.position.longitude","navigation.speedOverGround","navigation.courseOverGround","navigation.gnss.fix"].forEach(t=>{a.subscribe({path:t,period:1e3})}),a.addMessageHandler(i)}),$(()=>{a.removeMessageHandler(i),a.disconnect()}),(o,t)=>(s(),n("div",U,[d(f,{fallback:"GPS Data Unavailable"},{default:m(()=>[t[0]||(t[0]=c("p",{class:"mb-0"},"GPS",-1)),e.value.fix?(s(),n("div",R,[e.value.latitude&&e.value.longitude?(s(),n("div",W,p(e.value.latitude.toFixed(4))+"°, "+p(e.value.longitude.toFixed(4))+"° ",1)):g("",!0),e.value.speed!==void 0?(s(),n("div",X,p(e.value.speed.toFixed(1))+" kts ",1)):g("",!0),e.value.courseOverGround!==void 0?(s(),n("div",j,p(e.value.courseOverGround.toFixed(0))+"° ",1)):g("",!0)])):(s(),n("div",D," No GPS Fix "))]),_:1})]))}}),q=_(Z,[["__scopeId","data-v-8bf90853"]]),Q={class:"status-bar"},A={class:"gps-box"},Y={class:"logo-box"},ee=h({__name:"StatusBar",setup(u){const e=()=>{window.location.reload()};return(a,i)=>(s(),n("div",Q,[c("div",A,[d(q)]),c("div",Y,[d(K)]),c("div",{class:"time-box"},[c("input",{type:"button",value:"Reload page",onClick:e})])]))}}),ae=_(ee,[["__scopeId","data-v-0441fc98"]]),se={class:"home"},te={class:"gauge-box"},ne={class:"switch-box"},oe=h({__name:"Home",setup(u){const e=k([{path:"electrical.switches.bank.144.1.state",name:"Bilge Pump 1"},{path:"electrical.switches.bank.144.2.state",name:"Bilge Pump 2"},{path:"electrical.switches.bank.144.3.state",name:"Bait Tank"},{path:"electrical.switches.bank.144.4.state",name:"?"},{path:"electrical.switches.bank.144.5.state",name:"?"},{path:"electrical.switches.bank.144.6.state",name:"?"},{path:"electrical.switches.bank.144.7.state",name:"?"},{path:"electrical.switches.bank.144.8.state",name:"?"},{path:"electrical.switches.bank.144.9.state",name:"?"},{path:"electrical.switches.bank.144.10.state",name:"Bilge Blower"},{path:"electrical.switches.bank.144.11.state",name:"Nav Lights"},{path:"electrical.switches.bank.144.12.state",name:"Washdown"}]),a=i=>`Error: ${i.message}`;return(i,o)=>(s(),n("div",se,[d(f,{fallback:a},{default:m(()=>[d(ae)]),_:1}),c("div",te,[d(f,{fallback:a},{default:m(()=>[d(O)]),_:1})]),c("div",ne,[(s(!0),n(B,null,H(e.value,t=>(s(),M(f,{key:t.path,fallback:a},{default:m(()=>[d(F,{path:t.path,name:t.name},null,8,["path","name"])]),_:2},1024))),128))])]))}}),re=_(oe,[["__scopeId","data-v-01c0eadc"]]);export{re as default};
//# sourceMappingURL=Home-YpzjF-F_.js.map
