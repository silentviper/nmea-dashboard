{"version":3,"file":"Home-YpzjF-F_.js","sources":["../../src/components/ToggleSwitch/ToggleSwitch.vue","../../src/components/Logo.vue","../../src/components/GPSComponent/GPSComponent.vue","../../src/components/StatusBarComponent/StatusBar.vue","../../src/views/Home.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, onMounted, onUnmounted } from 'vue'\nimport { useSignalK } from '@/composables/useSignalK'\n\nconst props = defineProps<{\n    path: string\n    name: string\n}>()\n\nconst enabled = ref(false)\nconst error = ref<Error | null>(null)\n\n// Initialize SignalK with port 3000\nconst signalK = useSignalK({\n    port: 3000,\n    // You can also specify other options:\n    // host: 'localhost',\n    // protocol: 'ws',\n    // apiVersion: 'v1'\n});\n\nconst handleToggle = async () => {\n    try {\n        await signalK.put(props.path, !enabled.value, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkphbWVzTWNHaW5uZXNzIiwiaWF0IjoxNzI0MTE5NjgzfQ.2li_BlgX_4EaIi9XFGXG8JUwKe3-ThlJBMUdVViS4G8\"');\n    } catch (err) {\n        error.value = err as Error;\n        console.error(\"Error making PUT request:\", err);\n    }\n}\n\nconst handleSignalKMessage = (message: any) => {\n    const value = message.updates?.[0]?.values?.[0]?.value;\n    if (value !== undefined) {\n        enabled.value = value;\n    }\n}\n\nonMounted(() => {\n    signalK.connect();\n    signalK.subscribe({\n        path: props.path,\n        period: 500\n    });\n    signalK.addMessageHandler(handleSignalKMessage);\n});\n\nonUnmounted(() => {\n    signalK.removeMessageHandler(handleSignalKMessage);\n    signalK.disconnect();\n});\n</script>\n\n<template>\n    <div class=\"toggle-switch\">\n        <span :class=\"['metal', 'radial', enabled ? 'on' : '']\" @click=\"handleToggle\">\n            <span :style=\"{ color: enabled ? 'green' : 'red' }\">&nbsp;</span>\n        </span>\n        <div>{{ name }}</div>\n        <div v-if=\"error\" class=\"error-message\">\n            {{ error.message }}\n        </div>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.toggle-switch {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    text-align: center;\n    font-size: 18px;\n    color: #fff;\n    padding: 4px;\n\n    .error-message {\n        color: red;\n        font-size: 0.8rem;\n        margin-top: 0.5rem;\n    }\n\n    .switchBtn {\n        border-radius: 4px;\n        height: 70px;\n        width: 70px;\n        background: rgb(161, 161, 161);\n        background: radial-gradient(circle,\n                rgba(161, 161, 161, 1) 0%,\n                rgba(187, 187, 187, 1) 45%,\n                rgba(0, 212, 255, 1) 45%,\n                rgba(0, 212, 255, 1) 55%,\n                rgb(176, 176, 176) 55%,\n                rgb(176, 176, 176) 60%,\n                rgb(205, 205, 205) 65%,\n                rgba(42, 42, 42, 0.25) 70%,\n                rgba(42, 42, 42, 0) 70%);\n\n        -webkit-transition: background 1s ease;\n        -moz-transition: background 1s ease;\n        -o-transition: background 1s ease;\n        transition: background 1s ease;\n\n        &.on {\n            background: rgb(161, 161, 161);\n            background: radial-gradient(circle,\n                    rgba(161, 161, 161, 1) 0%,\n                    rgba(187, 187, 187, 1) 45%,\n                    rgb(0, 255, 42) 45%,\n                    rgb(0, 255, 145) 55%,\n                    rgb(176, 176, 176) 55%,\n                    rgb(176, 176, 176) 60%,\n                    rgb(205, 205, 205) 65%,\n                    rgba(42, 42, 42, 0.25) 70%,\n                    rgba(42, 42, 42, 0) 70%);\n\n            transition: background 3s ease;\n        }\n    }\n\n    &.enabled {\n        // @extend .btn-success;\n\n    }\n}\n\n.enabled {\n    background-color: #4CAF50;\n    border-right: 10px solid #4CAF50;\n}\n\n\n/* Metal ------------------------- */\n\n    .metal {\n        position: relative;\n    margin: 5px auto;\n    outline: none;\n\n    font: bold 6em/2em \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;\n    text-align: center;\n    color: hsla(0, 0%, 20%, 1);\n    text-shadow: hsla(0, 0%, 40%, .5) 0 -1px 0, hsla(0, 0%, 100%, .6) 0 2px 1px;\n\n    background-color: hsl(0, 0%, 90%);\n    box-shadow: inset hsla(0, 0%, 15%, 1) 0 0px 0px 4px,\n        /* border */\n        inset hsla(0, 0%, 15%, .8) 0 -1px 5px 4px,\n        /* soft SD */\n        inset hsla(0, 0%, 0%, .25) 0 -1px 0px 7px,\n        /* bottom SD */\n        inset hsla(0, 0%, 100%, .7) 0 2px 1px 7px,\n        /* top HL */\n\n        hsla(0, 0%, 0%, .15) 0 -5px 6px 4px,\n        /* outer SD */\n        hsla(0, 0%, 100%, .5) 0 0px 6px 4px;\n    /* outer HL */\n\n    transition: color .2s;\n}\n\n\n\n/* Radial ------------------------- */\n\n.radial.metal {\n    width: 70px;\n    height: 70px;\n    line-height: 80px;\n    border-radius: 40px;\n    background-image: -webkit-radial-gradient(50% 0%, 8% 50%, hsla(0, 0%, 100%, .5) 0%, hsla(0, 0%, 100%, 0) 100%),\n        -webkit-radial-gradient(50% 100%, 12% 50%, hsla(0, 0%, 100%, .6) 0%, hsla(0, 0%, 100%, 0) 100%),\n        -webkit-radial-gradient(0% 50%, 50% 7%, hsla(0, 0%, 100%, .5) 0%, hsla(0, 0%, 100%, 0) 100%),\n        -webkit-radial-gradient(100% 50%, 50% 5%, hsla(0, 0%, 100%, .5) 0%, hsla(0, 0%, 100%, 0) 100%),\n\n        -webkit-repeating-radial-gradient(50% 50%, 100% 100%, hsla(0, 0%, 0%, 0) 0%, hsla(0, 0%, 0%, 0) 3%, hsla(0, 0%, 0%, .1) 3.5%),\n        -webkit-repeating-radial-gradient(50% 50%, 100% 100%, hsla(0, 0%, 100%, 0) 0%, hsla(0, 0%, 100%, 0) 6%, hsla(0, 0%, 100%, .1) 7.5%),\n        -webkit-repeating-radial-gradient(50% 50%, 100% 100%, hsla(0, 0%, 100%, 0) 0%, hsla(0, 0%, 100%, 0) 1.2%, hsla(0, 0%, 100%, .2) 2.2%),\n\n        -webkit-radial-gradient(50% 50%, 200% 50%, hsla(0, 0%, 90%, 1) 5%, hsla(0, 0%, 85%, 1) 30%, hsla(0, 0%, 60%, 1) 100%);\n        }\n\n\n.metal.radial:before,\n.metal.radial:after {\n    content: \"\";\n    top: 0;\n    left: 0;\n    position: absolute;\n    width: inherit;\n    height: inherit;\n    border-radius: inherit;\n\n    /* fake conical gradients */\n    background-image: -webkit-radial-gradient(50% 0%, 10% 50%, hsla(0, 0%, 0%, .1) 0%, hsla(0, 0%, 0%, 0) 100%),\n        -webkit-radial-gradient(50% 100%, 10% 50%, hsla(0, 0%, 0%, .1) 0%, hsla(0, 0%, 0%, 0) 100%),\n        -webkit-radial-gradient(0% 50%, 50% 10%, hsla(0, 0%, 0%, .1) 0%, hsla(0, 0%, 0%, 0) 100%),\n        -webkit-radial-gradient(100% 50%, 50% 06%, hsla(0, 0%, 0%, .1) 0%, hsla(0, 0%, 0%, 0) 100%);\n        }\n\n.metal.radial:before {\n    transform: rotate(65deg);\n    }\n\n.metal.radial:after {\n    transform: rotate(-65deg);\n    }\n\n.metal.radial.on {\n    box-shadow: inset hsla(137, 100%, 75%, 1) 0 0px 0px 4px,\n        /* border */\n        inset hsla(0, 0%, 15%, .8) 0 -1px 5px 4px,\n        /* soft SD */\n        inset hsla(0, 0%, 0%, .25) 0 -1px 0px 7px,\n        /* bottom SD */\n        inset hsla(0, 0%, 100%, .7) 0 2px 1px 7px,\n        /* top HL */\n\n        hsla(0, 0%, 0%, .15) 0 -5px 6px 4px,\n        /* outer SD */\n        hsla(0, 0%, 100%, .5) 0 0px 6px 4px;\n    /* outer HL */\n}\n</style>","<template>\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xml:space=\"preserve\"\n      :style=\"{\n        fillRule: 'evenodd',\n        clipRule: 'evenodd',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: 1.5,\n      }\"\n      viewBox=\"0 0 60 60\"\n    >\n      <!-- SVG paths from your original component -->\n      <path\n        d=\"M.147-.714-.003 0h.148l.107-.568h.002L.323 0h.12l.302-.568h.002L.617 0h.147l.151-.714H.696l-.275.517H.419L.364-.714H.147Z\"\n        :style=\"{\n          fill: '#fff',\n          fillRule: 'nonzero',\n        }\"\n        transform=\"matrix(7.8821 0 0 7.8821 10.134 31.243)\"\n      />\n      <!-- Add all other paths here -->\n    </svg>\n  </template>","<script lang=\"ts\" setup>\nimport { ref, onMounted, onUnmounted } from 'vue'\nimport { useSignalK } from '@/composables/useSignalK'\nimport type { SignalKMessage } from '@/composables/useSignalK'\nimport ErrorHandler from '@/components/ErrorHandlerComponent/ErrorHandler.vue'\n\ninterface GPSData {\n    latitude?: number\n    longitude?: number\n    speed?: number\n    courseOverGround?: number\n    fix?: boolean\n}\n\nconst gpsData = ref<GPSData>({})\nconst signalK = useSignalK()\n\nconst handleSignalKMessage = (message: SignalKMessage) => {\n    message.updates?.[0]?.values?.forEach(update => {\n        switch (update.path) {\n            case 'navigation.position.latitude':\n                gpsData.value.latitude = update.value\n                break\n            case 'navigation.position.longitude':\n                gpsData.value.longitude = update.value\n                break\n            case 'navigation.speedOverGround':\n                gpsData.value.speed = update.value * 1.943844 // Convert to knots\n                break\n            case 'navigation.courseOverGround':\n                gpsData.value.courseOverGround = update.value * 57.2958 // Convert to degrees\n                break\n            case 'navigation.gnss.fix':\n                gpsData.value.fix = update.value === 'GPS'\n                break\n        }\n    })\n}\n\nonMounted(() => {\n    signalK.connect()\n    // Subscribe to GPS-related paths\n    const paths = [\n        'navigation.position.latitude',\n        'navigation.position.longitude',\n        'navigation.speedOverGround',\n        'navigation.courseOverGround',\n        'navigation.gnss.fix'\n    ]\n\n    paths.forEach(path => {\n        signalK.subscribe({\n            path,\n            period: 1000\n        })\n    })\n\n    signalK.addMessageHandler(handleSignalKMessage)\n})\n\nonUnmounted(() => {\n    signalK.removeMessageHandler(handleSignalKMessage)\n    signalK.disconnect()\n})\n</script>\n\n<template>\n    <div class=\"gps-component\">\n        <ErrorHandler fallback=\"GPS Data Unavailable\">\n            <p class=\"mb-0\">GPS</p>\n            <div v-if=\"gpsData.fix\" class=\"gps-data\">\n                <div v-if=\"gpsData.latitude && gpsData.longitude\" class=\"coordinates\">\n                    {{ gpsData.latitude.toFixed(4) }}°, {{ gpsData.longitude.toFixed(4) }}°\n                </div>\n                <div v-if=\"gpsData.speed !== undefined\" class=\"speed\">\n                    {{ gpsData.speed.toFixed(1) }} kts\n                </div>\n                <div v-if=\"gpsData.courseOverGround !== undefined\" class=\"course\">\n                    {{ gpsData.courseOverGround.toFixed(0) }}°\n                </div>\n            </div>\n            <div v-else class=\"no-fix\">\n                No GPS Fix\n            </div>\n        </ErrorHandler>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.gps-component {\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n    color: #fff;\n\n    .gps-data {\n        font-size: 0.9rem;\n\n        .coordinates {\n            color: #4CAF50;\n        }\n\n        .speed,\n        .course {\n            color: #2196F3;\n        }\n    }\n\n    .no-fix {\n        color: #f44336;\n    }\n\n    .mb-0 {\n        margin-bottom: 0;\n    }\n}\n</style>","<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport LogoComponent from '@/components/Logo.vue'\nimport TimeComponent from '@/components/TimeComponent/TimeComponent.vue'\nimport GPSComponent from '@/components/GPSComponent/GPSComponent.vue'\n\nconst reloadPage = () => {\n  window.location.reload()\n}\n</script>\n\n<template>\n  <div class=\"status-bar\">\n    <div class=\"gps-box\">\n      <GPSComponent />\n    </div>\n    <div class=\"logo-box\">\n      <LogoComponent></LogoComponent>\n    </div>\n    <div class=\"time-box\">\n      <input type=\"button\" value=\"Reload page\" @click=\"reloadPage\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.status-bar {\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  align-items: center;\n  padding: 1rem;\n  \n  .gps-box {\n    justify-self: start;\n  }\n  \n  .logo-box {\n    text-align: center;\n  }\n  \n  .time-box {\n    justify-self: end;\n  }\n}\n</style>","<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport ToggleSwitch from '@/components/ToggleSwitch/ToggleSwitch.vue'\nimport GaugesComponent from '@/components/GaugesComponent/GaugesComponent.vue'\nimport StatusBarComponent from '@/components/StatusBarComponent/StatusBar.vue'\nimport ErrorHandler from '@/components/ErrorHandlerComponent/ErrorHandler.vue'\n\ninterface SwitchPath {\n  path: string\n  name: string\n}\n\nconst paths = ref<SwitchPath[]>([\n  {\n    \"path\": \"electrical.switches.bank.144.1.state\",\n    \"name\": \"Bilge Pump 1\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.2.state\",\n    \"name\": \"Bilge Pump 2\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.3.state\",\n    \"name\": \"Bait Tank\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.4.state\",\n    \"name\": \"?\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.5.state\",\n    \"name\": \"?\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.6.state\",\n    \"name\": \"?\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.7.state\",\n    \"name\": \"?\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.8.state\",\n    \"name\": \"?\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.9.state\",\n    \"name\": \"?\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.10.state\",\n    \"name\": \"Bilge Blower\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.11.state\",\n    \"name\": \"Nav Lights\"\n  },\n  {\n    \"path\": \"electrical.switches.bank.144.12.state\",\n    \"name\": \"Washdown\"\n  }\n])\n\nconst handleError = (error: Error): string => {\n  return `Error: ${error.message}`\n}\n</script>\n\n<template>\n  <div class=\"home\">\n    <ErrorHandler :fallback=\"handleError\">\n      <StatusBarComponent />\n    </ErrorHandler>\n\n    <div class=\"gauge-box\">\n      <ErrorHandler :fallback=\"handleError\">\n        <GaugesComponent />\n      </ErrorHandler>\n    </div>\n\n    <div class=\"switch-box\">\n      <ErrorHandler v-for=\"switchItem in paths\" :key=\"switchItem.path\" :fallback=\"handleError\">\n        <ToggleSwitch :path=\"switchItem.path\" :name=\"switchItem.name\" />\n      </ErrorHandler>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.home {\n  width: 100%;\n}\n\n.gauge-box {\n  display: grid;\n  height: 50vh;\n}\n\n.switch-box {\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: 2;\n  background-color: #000;\n  height: 40vh;\n  color: #fff;\n}\n\n.status-box {\n  height: 10vw;\n}\n</style>"],"names":["props","__props","enabled","ref","error","signalK","useSignalK","handleToggle","err","handleSignalKMessage","message","value","_d","_c","_b","_a","onMounted","onUnmounted","_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","gpsData","update","path","reloadPage","paths","handleError"],"mappings":"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"}